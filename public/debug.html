<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Storage</title>
</head>
<body>
    <h1>Storage Debug</h1>
    <div id="output"></div>
    
    <script>
        function debugStorage() {
            const output = document.getElementById('output');
            
            const localStorageData = {};
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                localStorageData[key] = localStorage.getItem(key);
            }
            
            const sessionStorageData = {};
            for (let i = 0; i < sessionStorage.length; i++) {
                const key = sessionStorage.key(i);
                sessionStorageData[key] = sessionStorage.getItem(key);
            }
            
            output.innerHTML = `
                <h2>LocalStorage:</h2>
                <pre>${JSON.stringify(localStorageData, null, 2)}</pre>
                
                <h2>SessionStorage:</h2>
                <pre>${JSON.stringify(sessionStorageData, null, 2)}</pre>
                
                <h2>Key Checks:</h2>
                <ul>
                    <li>isAuthenticated (local): ${localStorage.getItem('isAuthenticated')}</li>
                    <li>isAuthenticated (session): ${sessionStorage.getItem('isAuthenticated')}</li>
                    <li>userEmail (local): ${localStorage.getItem('userEmail')}</li>
                    <li>userEmail (session): ${sessionStorage.getItem('userEmail')}</li>
                    <li>userName (local): ${localStorage.getItem('userName')}</li>
                    <li>userName (session): ${sessionStorage.getItem('userName')}</li>
                </ul>
            `;
        }
        
        // Auto refresh every 2 seconds
        debugStorage();
        setInterval(debugStorage, 2000);
    </script>
</body>
</html>